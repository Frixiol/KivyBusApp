#:import Factory kivy.factory.Factory

<Menu_Button@Button>:
    size_hint: None,None
    height: 40
    width: 40


<P@Popup>
    title:"Choix de bus"
    pos:(20, 0)
    pos_hint: {"top":0.9}
    size_hint:None, .6
    width:app.root.width-40
    FloatLayout:
        Button:
            text:"bus-1"
            size_hint:.4,.3
            pos_hint:{"x":0.05,"top":0.95}
        Button:
            text:"bus-2"
            size_hint:.4,.3
            pos_hint:{"x":0.55,"top":0.95}



<MainScreen>:

    FloatLayout:

        canvas.before:
            Color:
                rgba: (.2,.2,.2,0.8)
            Rectangle:
                size:(root.width ,root.height)

        Menu_Button:
            pos:(20, 0)
            pos_hint: {"top":0.97}
            on_press: root.btn()

        Button:
            pos:(20, 0)
            pos_hint: {"top":0.15}
            size_hint: None, .1
            width: root.width -40
            on_press: Factory.P().open()
            canvas.after:
                Color:
                    rgba: (1,1,1,1)
                Line:
                    width:1.1
                    rectangle:( self.x,self.y,self.width, self.height)

        Label:
            font_size:15
            text_size: self.size
            halign: 'left'
            size_hint: None, None
            height: 36
            width: root.width -40
            canvas.before:
                Color:
                    rgba: (.25,.25,.25,0.7)
                Rectangle:
                    pos:( self.x-5, self.y-5)
                    size:(self.width+10, self.height+10)
            canvas.after:
                Color:
                    rgba: (1,1,1,1)
                Line:
                    width:1.1
                    rectangle:( self.x-5,self.y-5,self.width+10, self.height+10)
            text: "Temps d'attente:\nNombre de passager: "
            pos:(20, 0)
            pos_hint: {"top":0.85}

      

